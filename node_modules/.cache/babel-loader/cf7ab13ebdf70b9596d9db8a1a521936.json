{"ast":null,"code":"var _jsxFileName = \"/home/jacobo/Proyects/Me/GWhats/src/pages/Home/Home.js\";\nimport { Component } from \"react\";\nimport './Home.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.login = () => {\n      window.gapi.auth2.getAuthInstance().signIn();\n    };\n  }\n\n  insertGapiScript() {\n    const script = document.createElement('script');\n    script.src = 'https://apis.google.com/js/api.js';\n\n    script.onload = () => {\n      this.handleClientLoad();\n    }; // script.onreadystatechange = () => {\n    //     if (this.readyState === 'complete') this.onload()\n    // }\n\n\n    document.body.appendChild(script);\n  }\n\n  handleClientLoad() {\n    window.gapi.load('client:auth2', this.initClient);\n  }\n\n  initClient() {\n    window.gapi.client.init({\n      apiKey: \"AIzaSyCXgkVD9sXXaUzjs4UAGYlHlKEtTWjLqYg\",\n      clientId: \"21821511021-f1vhta3cvkl8lhlep5k8i9anqg2i37eq.apps.googleusercontent.com\",\n      discoveryDocs: \"https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest\",\n      scope: \"https://www.googleapis.com/auth/gmail.readonly\"\n    }).then(function () {// Listen for sign-in state changes.\n      // gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);\n      //\n      // // Handle the initial sign-in state.\n      // updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\n      // authorizeButton.onclick = handleAuthClick;\n      // signoutButton.onclick = handleSignoutClick;\n    });\n    window.gapi.load('client:auth2', () => {// //\n      // window.gapi.load('signin2', () => {\n      //\n      //     // const params = {\n      //     //     onsuccess: () => {\n      //     //         console.log('User has finished signing in!')\n      //     //         console.log(window.gapi.auth2.getAuthInstance())\n      //     //         // this.listLabels()\n      //     //     }\n      //     // }\n      //     // window.gapi.signin2.render('loginButton', params)\n      // })\n    });\n  }\n\n  componentDidMount() {\n    console.log('Loading');\n    this.insertGapiScript();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Giigke kigub\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.login,\n        children: \"sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.labels,\n        children: \"messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/jacobo/Proyects/Me/GWhats/src/pages/Home/Home.js"],"names":["Component","Home","login","window","gapi","auth2","getAuthInstance","signIn","insertGapiScript","script","document","createElement","src","onload","handleClientLoad","body","appendChild","load","initClient","client","init","apiKey","clientId","discoveryDocs","scope","then","componentDidMount","console","log","render","labels"],"mappings":";AAAA,SAAQA,SAAR,QAAwB,OAAxB;AACA,OAAO,YAAP;;;AAEA,MAAMC,IAAN,SAAmBD,SAAnB,CAA6B;AAAA;AAAA;;AAAA,SA2DzBE,KA3DyB,GA2DjB,MAAM;AACVC,MAAAA,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkBC,eAAlB,GAAoCC,MAApC;AACH,KA7DwB;AAAA;;AACzBC,EAAAA,gBAAgB,GAAG;AACf,UAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAF,IAAAA,MAAM,CAACG,GAAP,GAAa,mCAAb;;AACAH,IAAAA,MAAM,CAACI,MAAP,GAAgB,MAAM;AAClB,WAAKC,gBAAL;AACH,KAFD,CAHe,CAMf;AACA;AACA;;;AACAJ,IAAAA,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BP,MAA1B;AACH;;AAGDK,EAAAA,gBAAgB,GAAG;AACfX,IAAAA,MAAM,CAACC,IAAP,CAAYa,IAAZ,CAAiB,cAAjB,EAAiC,KAAKC,UAAtC;AACH;;AAEDA,EAAAA,UAAU,GAAG;AAETf,IAAAA,MAAM,CAACC,IAAP,CAAYe,MAAZ,CAAmBC,IAAnB,CAAwB;AACpBC,MAAAA,MAAM,EAAE,yCADY;AAEpBC,MAAAA,QAAQ,EAAE,yEAFU;AAGpBC,MAAAA,aAAa,EAAE,4DAHK;AAIpBC,MAAAA,KAAK,EAAE;AAJa,KAAxB,EAKGC,IALH,CAKQ,YAAY,CAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KAbD;AAeAtB,IAAAA,MAAM,CAACC,IAAP,CAAYa,IAAZ,CAAiB,cAAjB,EAAiC,MAAM,CAGnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KAfD;AAgBH;;AAEDS,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAEA,SAAKpB,gBAAL;AACH;;AAODqB,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAGI;AAAQ,QAAA,OAAO,EAAE,KAAK3B,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAQ,QAAA,OAAO,EAAE,KAAK4B,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAUH;;AA3EwB;;AA8E7B,eAAe7B,IAAf","sourcesContent":["import {Component} from \"react\";\nimport './Home.css';\n\nclass Home extends Component {\n    insertGapiScript() {\n        const script = document.createElement('script')\n        script.src = 'https://apis.google.com/js/api.js'\n        script.onload = () => {\n            this.handleClientLoad()\n        }\n        // script.onreadystatechange = () => {\n        //     if (this.readyState === 'complete') this.onload()\n        // }\n        document.body.appendChild(script)\n    }\n\n\n    handleClientLoad() {\n        window.gapi.load('client:auth2', this.initClient);\n    }\n\n    initClient() {\n\n        window.gapi.client.init({\n            apiKey: \"AIzaSyCXgkVD9sXXaUzjs4UAGYlHlKEtTWjLqYg\",\n            clientId: \"21821511021-f1vhta3cvkl8lhlep5k8i9anqg2i37eq.apps.googleusercontent.com\",\n            discoveryDocs: \"https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest\",\n            scope: \"https://www.googleapis.com/auth/gmail.readonly\",\n        }).then(function () {\n          // Listen for sign-in state changes.\n          // gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);\n          //\n          // // Handle the initial sign-in state.\n          // updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\n          // authorizeButton.onclick = handleAuthClick;\n          // signoutButton.onclick = handleSignoutClick;\n        });\n\n        window.gapi.load('client:auth2', () => {\n\n\n            // //\n            // window.gapi.load('signin2', () => {\n            //\n            //     // const params = {\n            //     //     onsuccess: () => {\n            //     //         console.log('User has finished signing in!')\n            //     //         console.log(window.gapi.auth2.getAuthInstance())\n            //     //         // this.listLabels()\n            //     //     }\n            //     // }\n            //     // window.gapi.signin2.render('loginButton', params)\n            // })\n        })\n    }\n\n    componentDidMount() {\n        console.log('Loading')\n\n        this.insertGapiScript();\n    }\n\n    login = () => {\n        window.gapi.auth2.getAuthInstance().signIn();\n    };\n\n\n    render() {\n        return (\n            <div>\n                <h1>Giigke kigub</h1>\n\n                <button onClick={this.login}>sign in</button>\n                <button onClick={this.labels}>messages</button>\n\n\n            </div>\n        );\n    }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}