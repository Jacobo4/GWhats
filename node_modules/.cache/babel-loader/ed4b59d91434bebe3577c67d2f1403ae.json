{"ast":null,"code":"var _jsxFileName = \"/home/jacobo/Proyects/Me/GWhats/src/pages/Home/Home.js\";\nimport { Component } from \"react\";\nimport './Home.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Home extends Component {\n  insertGapiScript() {\n    const script = document.createElement('script');\n    script.src = 'https://apis.google.com/js/api.js';\n\n    script.onload = () => {\n      this.handleClientLoad();\n    };\n\n    script.onreadystatechange = () => {\n      if (this.readyState === 'complete') this.onload();\n    };\n\n    document.body.appendChild(script);\n  }\n  /**\n       *  Initializes the API client library and sets up sign-in state\n       *  listeners.\n       */\n\n\n  initClient() {\n    window.gapi.client.init({\n      apiKey: \"AIzaSyCXgkVD9sXXaUzjs4UAGYlHlKEtTWjLqYg\",\n      clientId: \"21821511021-f1vhta3cvkl8lhlep5k8i9anqg2i37eq.apps.googleusercontent.com\",\n      discoveryDocs: \"https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest\",\n      scope: \"https://www.googleapis.com/auth/gmail.readonly\"\n    }).then(function () {\n      // Listen for sign-in state changes.\n      window.gapi.auth2.getAuthInstance().isSignedIn.listen(r => console.log('cambios')); // Handle the initial sign-in state.\n      // updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\n      // authorizeButton.onclick = handleAuthClick;\n      // signoutButton.onclick = handleSignoutClick;\n    }, function (error) {// appendPre(JSON.stringify(error, null, 2));\n    });\n  } //     /**\n  //  *  Called when the signed in status changes, to update the UI\n  //  *  appropriately. After a sign-in, the API is called.\n  //  */\n  // updateSigninStatus(isSignedIn) {\n  //   if (isSignedIn) {\n  //     authorizeButton.style.display = 'none';\n  //     signoutButton.style.display = 'block';\n  //     listLabels();\n  //   } else {\n  //     authorizeButton.style.display = 'block';\n  //     signoutButton.style.display = 'none';\n  //   }\n  // }\n\n\n  handleClientLoad() {\n    window.gapi.load('auth2', () => {\n      window.gapi.auth2.init({\n        client_id: '21821511021-f1vhta3cvkl8lhlep5k8i9anqg2i37eq.apps.googleusercontent.com'\n      });\n      console.log('Api inited');\n      window.gapi.load('signin2', () => {\n        const params = {\n          onsuccess: () => {\n            console.log('User has finished signing in!');\n          }\n        };\n        window.gapi.signin2.render('loginButton', params);\n      });\n    });\n  }\n\n  componentDidMount() {\n    console.log('Loading');\n    this.insertGapiScript();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Giigke kigub\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"loginButton\",\n        onClick: handleAuthClick(),\n        children: \"sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/jacobo/Proyects/Me/GWhats/src/pages/Home/Home.js"],"names":["Component","Home","insertGapiScript","script","document","createElement","src","onload","handleClientLoad","onreadystatechange","readyState","body","appendChild","initClient","window","gapi","client","init","apiKey","clientId","discoveryDocs","scope","then","auth2","getAuthInstance","isSignedIn","listen","r","console","log","error","load","client_id","params","onsuccess","signin2","render","componentDidMount","handleAuthClick"],"mappings":";AAAA,SAAQA,SAAR,QAAwB,OAAxB;AACA,OAAO,YAAP;;;AAEA,MAAMC,IAAN,SAAmBD,SAAnB,CAA6B;AAC3BE,EAAAA,gBAAgB,GAAG;AACjB,UAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAF,IAAAA,MAAM,CAACG,GAAP,GAAa,mCAAb;;AACAH,IAAAA,MAAM,CAACI,MAAP,GAAgB,MAAM;AACpB,WAAKC,gBAAL;AACD,KAFD;;AAGAL,IAAAA,MAAM,CAACM,kBAAP,GAA2B,MAAM;AAC/B,UAAI,KAAKC,UAAL,KAAoB,UAAxB,EAAoC,KAAKH,MAAL;AACrC,KAFD;;AAGAH,IAAAA,QAAQ,CAACO,IAAT,CAAcC,WAAd,CAA0BT,MAA1B;AACD;AAED;AACF;AACA;AACA;;;AACMU,EAAAA,UAAU,GAAG;AACXC,IAAAA,MAAM,CAACC,IAAP,CAAYC,MAAZ,CAAmBC,IAAnB,CAAwB;AACtBC,MAAAA,MAAM,EAAE,yCADc;AAEtBC,MAAAA,QAAQ,EAAE,yEAFY;AAGtBC,MAAAA,aAAa,EAAE,4DAHO;AAItBC,MAAAA,KAAK,EAAE;AAJe,KAAxB,EAKGC,IALH,CAKQ,YAAY;AAClB;AACAR,MAAAA,MAAM,CAACC,IAAP,CAAYQ,KAAZ,CAAkBC,eAAlB,GAAoCC,UAApC,CAA+CC,MAA/C,CAAuDC,CAAD,IAAKC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAA3D,EAFkB,CAIlB;AACA;AACA;AACA;AACD,KAbD,EAaG,UAASC,KAAT,EAAgB,CACjB;AACD,KAfD;AAgBD,GAlCsB,CAoCvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGJtB,EAAAA,gBAAgB,GAAG;AACjBM,IAAAA,MAAM,CAACC,IAAP,CAAYgB,IAAZ,CAAiB,OAAjB,EAA0B,MAAM;AAC9BjB,MAAAA,MAAM,CAACC,IAAP,CAAYQ,KAAZ,CAAkBN,IAAlB,CAAuB;AACrBe,QAAAA,SAAS,EAAE;AADU,OAAvB;AAGAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AAEAf,MAAAA,MAAM,CAACC,IAAP,CAAYgB,IAAZ,CAAiB,SAAjB,EAA4B,MAAM;AAChC,cAAME,MAAM,GAAG;AACbC,UAAAA,SAAS,EAAE,MAAM;AACfN,YAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACD;AAHY,SAAf;AAKAf,QAAAA,MAAM,CAACC,IAAP,CAAYoB,OAAZ,CAAoBC,MAApB,CAA2B,aAA3B,EAA0CH,MAA1C;AACD,OAPD;AAQD,KAdD;AAeD;;AAEDI,EAAAA,iBAAiB,GAAG;AAClBT,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAEA,SAAK3B,gBAAL;AACD;;AAEDkC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAGE;AAAS,QAAA,EAAE,EAAC,aAAZ;AAA0B,QAAA,OAAO,EAAEE,eAAe,EAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAOD;;AApF0B;;AAuF7B,eAAerC,IAAf","sourcesContent":["import {Component} from \"react\";\nimport './Home.css';\n\nclass Home extends Component {\n  insertGapiScript() {\n    const script = document.createElement('script')\n    script.src = 'https://apis.google.com/js/api.js'\n    script.onload = () => {\n      this.handleClientLoad()\n    }\n    script.onreadystatechange= () => {\n      if (this.readyState === 'complete') this.onload()\n    }\n    document.body.appendChild(script)\n  }\n\n  /**\n       *  Initializes the API client library and sets up sign-in state\n       *  listeners.\n       */\n      initClient() {\n        window.gapi.client.init({\n          apiKey: \"AIzaSyCXgkVD9sXXaUzjs4UAGYlHlKEtTWjLqYg\",\n          clientId: \"21821511021-f1vhta3cvkl8lhlep5k8i9anqg2i37eq.apps.googleusercontent.com\",\n          discoveryDocs: \"https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest\",\n          scope: \"https://www.googleapis.com/auth/gmail.readonly\",\n        }).then(function () {\n          // Listen for sign-in state changes.\n          window.gapi.auth2.getAuthInstance().isSignedIn.listen((r)=>console.log('cambios'));\n\n          // Handle the initial sign-in state.\n          // updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\n          // authorizeButton.onclick = handleAuthClick;\n          // signoutButton.onclick = handleSignoutClick;\n        }, function(error) {\n          // appendPre(JSON.stringify(error, null, 2));\n        });\n      }\n\n      //     /**\n      //  *  Called when the signed in status changes, to update the UI\n      //  *  appropriately. After a sign-in, the API is called.\n      //  */\n      // updateSigninStatus(isSignedIn) {\n      //   if (isSignedIn) {\n      //     authorizeButton.style.display = 'none';\n      //     signoutButton.style.display = 'block';\n      //     listLabels();\n      //   } else {\n      //     authorizeButton.style.display = 'block';\n      //     signoutButton.style.display = 'none';\n      //   }\n      // }\n\n\n  handleClientLoad() {\n    window.gapi.load('auth2', () => {\n      window.gapi.auth2.init({\n        client_id: '21821511021-f1vhta3cvkl8lhlep5k8i9anqg2i37eq.apps.googleusercontent.com'\n      })\n      console.log('Api inited')\n\n      window.gapi.load('signin2', () => {\n        const params = {\n          onsuccess: () => {\n            console.log('User has finished signing in!')\n          }\n        }\n        window.gapi.signin2.render('loginButton', params)\n      })\n    })\n  }\n\n  componentDidMount() {\n    console.log('Loading')\n\n    this.insertGapiScript();\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Giigke kigub</h1>\n\n        <button  id=\"loginButton\" onClick={handleAuthClick()}>sign in</button>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}